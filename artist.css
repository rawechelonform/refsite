/* === Tokens / fonts === */
:root{
  --maxw: 1200px;
  --ui-mono: "input-mono", "Input Mono", ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  --bio-gray: 143,143,143;
  --link-gray: 110,110,110;
  --photo-nudge: -2px;
}

/* === Global === */
html, body { height: 100%; }
body{ background: #000 !important; }
html, body { overflow-x: hidden; }        /* prevent sideways scroll */

/* Underlay */
body::before{
  content:""; position:fixed; inset:0;
  background:rgba(0,0,0,.15); pointer-events:none; z-index:0;
}
.page{ position:relative; z-index:1; }

/* Menubar */
.menubar-slot { display:block; height: var(--barh, 32px); }

/* === Layout === */
.page{
  padding: 24px 0 48px;
  display:flex; flex-direction:column; align-items:center; gap:18px;
}
.about-grid{
  width:100%; max-width:var(--maxw);
  margin:48px auto 20px;
  display:grid; grid-template-columns:1fr 0.9fr;
  column-gap:5px; row-gap:10px;
  align-items:start;
  box-sizing: border-box;               /* contain padding */
}
.about-grid > * { min-width:0; }
.about-blurb, .right-col{ align-self:start; }

.about-blurb{
  display:flex; align-items:flex-start; justify-content:center;
}
.right-col{ display:flex; flex-direction:column; gap:14px; }

/* Bio */
.bio{
  font-family: var(--ui-mono);
  font-size: 13px;
  line-height: 1.6;
  color: rgb(var(--bio-gray));
  margin: 4px 0 1.05rem;
  text-align:left;
  word-wrap: break-word;
  overflow-wrap: anywhere;               /* avoid overflow from long tokens */
}
.bio:first-child{ margin-top:0; }
.bio-compact{ margin-bottom:.5rem; }

/* Links */
.ext-link,
.ext-link:link,
.ext-link:visited{
  color: rgb(var(--link-gray));
  text-decoration-color: rgb(var(--link-gray));
}
.ext-link:hover,
.ext-link:focus,
.ext-link:active{
  color:#fff;
  text-decoration-color:#fff;
}

/* Photo */
.about-photo{
  position:relative;
  margin:0 0 8px 0;
  max-width: clamp(340px,32vw,420px);
  width:100%;
}
figure{ margin-block-start:0; }
.about-photo img{
  display:block; width:100%; height:auto; border:0;
}

/* === Mobile shared === */
@media (max-width:900px){
  body{ background-attachment: scroll; }
}

/* === Mobile Portrait: photo first, centered, no overflow === */
@media (max-width:900px) and (orientation:portrait){
  .about-grid{
    display:flex; flex-direction:column;
    row-gap:18px;                        /* same rhythm as desktop */
    margin-top:20px;
    padding:0 24px;
    box-sizing:border-box;               /* << prevents padding overflow */
    align-items:stretch;
    max-width:100%;
  }

  /* photo centered */
  .about-blurb{ order:1; justify-content:center; }
  .about-photo{
    margin:16px auto 24px;
    max-width:clamp(240px,70vw,380px);
    width:100%;
  }

  /* text width = inner width; justify to make rectangular blocks */
  .right-col{ order:2; width:100%; box-sizing:border-box; }
  .right-col .bio{
    text-align: justify;
    text-justify: inter-word;
    hyphens: auto;
    margin:4px 0 1.05rem;
  }
}

/* === Mobile Landscape: side-by-side, top-aligned, no overflow === */
@media (max-width:900px) and (orientation:landscape){
  .about-grid{
    display:grid;
    grid-template-columns:1fr 0.9fr;
    column-gap:6px; row-gap:10px;
    margin-top:28px; padding-inline:10px;
    box-sizing:border-box;               /* << contain padding */
    align-items:start;
    max-width:100%;
  }
  .about-blurb{ grid-column:1; align-self:start; justify-content:center; }
  .right-col{
    grid-column:2; display:flex; flex-direction:column; gap:14px;
    padding-right:8px; min-width:0; align-self:start; box-sizing:border-box;
  }
  .about-photo{
    max-width:clamp(240px,50vw,360px);
    margin:0 0 8px 0;
  }
}

/* === Desktop === */
@media (min-width:901px){
  .about-grid{
    display:grid!important;
    grid-template-columns:1fr 0.9fr!important;
    column-gap:5px!important; row-gap:10px!important;
    margin-top:48px!important; padding:0!important;
    align-items:start!important;
  }
  .right-col{ display:flex!important; flex-direction:column!important; gap:14px!important; }
  .about-blurb{ display:flex!important; justify-content:center!important; align-items:flex-start!important; }
  .about-photo{
    max-width:clamp(340px,32vw,420px)!important;
    margin:0 0 8px 0!important;
  }
}
