<!-- checkout.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>REF · Checkout</title>

  <!-- Fonts -->
  <link rel="preload" href="fonts/coral-pixels/coralpixels-regular.woff2"
        as="font" type="font/woff2" crossorigin>
  <link rel="stylesheet" href="https://use.typekit.net/lcf2pet.css">

  <!-- Menubar + overrides -->
  <link rel="stylesheet" href="menubar.css?v=mb11">
  <link rel="stylesheet" href="shop-menubar-overrides.css?v=mb8">

  <!-- Checkout styles -->
  <link rel="stylesheet" href="checkout.css?v=1">

  <!-- Cart drawer styles -->
  <link rel="stylesheet" href="cart.css?v=1">

  <style>html,body{margin:0;padding:0}</style>
</head>

<body class="menu-transparent">
  <script>
    document.documentElement.classList.add('fonts-loading');
    Promise.all([ document.fonts.load('1em "Coral Pixels"') ])
      .then(() => document.documentElement.classList.remove('fonts-loading'));
  </script>

  <div class="page">
    <div data-menubar class="menubar-slot"></div>

    <main class="checkout-shell" aria-label="Checkout">
      <section class="checkout-panel">
        <h1 class="checkout-title">checkout</h1>

        <div class="checkout-accordion" id="checkoutAccordion">
          <!-- CONTACT -->
          <section class="acc-section" data-section="contact">
            <button class="acc-header" type="button" aria-expanded="true">
              <span class="acc-title">CONTACT</span>
              <span class="acc-status" id="contactStatus">open</span>
            </button>

            <div class="acc-body">
              <label class="field">
                <span class="field-label">email</span>
                <input class="field-input" id="email" type="email" autocomplete="email" inputmode="email" placeholder="you@example.com" />
              </label>

              <div class="acc-actions">
                <button class="acc-next" type="button" id="toShipping">continue</button>
              </div>

              <div class="acc-error" id="contactError" aria-live="polite"></div>
            </div>
          </section>

          <!-- SHIPPING -->
          <section class="acc-section" data-section="shipping">
            <button class="acc-header" type="button" aria-expanded="false">
              <span class="acc-title">SHIPPING</span>
              <span class="acc-status" id="shippingStatus">closed</span>
            </button>

            <div class="acc-body" hidden>
              <div class="grid-2">
                <label class="field">
                  <span class="field-label">first name</span>
                  <input class="field-input" id="shipFirst" type="text" autocomplete="given-name" />
                </label>

                <label class="field">
                  <span class="field-label">last name</span>
                  <input class="field-input" id="shipLast" type="text" autocomplete="family-name" />
                </label>
              </div>

              <label class="field">
                <span class="field-label">address</span>
                <input class="field-input" id="shipLine1" type="text" autocomplete="shipping address-line1" />
              </label>

              <label class="field">
                <span class="field-label">address 2</span>
                <input class="field-input" id="shipLine2" type="text" autocomplete="shipping address-line2" />
              </label>

              <div class="grid-3">
                <label class="field">
                  <span class="field-label">city</span>
                  <input class="field-input" id="shipCity" type="text" autocomplete="shipping address-level2" />
                </label>

                <label class="field">
                  <span class="field-label">state</span>
                  <input class="field-input" id="shipState" type="text" autocomplete="shipping address-level1" />
                </label>

                <label class="field">
                  <span class="field-label">zip</span>
                  <input class="field-input" id="shipZip" type="text" autocomplete="shipping postal-code" inputmode="numeric" />
                </label>
              </div>

              <label class="field">
                <span class="field-label">country</span>
                <select class="field-input" id="shipCountry" autocomplete="shipping country">
                  <option value="US" selected>United States</option>
                </select>
              </label>

              <div class="summary-mini">
                <div class="mini-row">
                  <span>subtotal</span>
                  <span id="miniSubtotal">$0.00</span>
                </div>
                <div class="mini-row">
                  <span>shipping &amp; taxes</span>
                  <span id="miniShipTax">TBD</span>
                </div>
                <div class="mini-row mini-total">
                  <span>total</span>
                  <span id="miniTotal">$0.00</span>
                </div>
              </div>

              <div class="acc-actions">
                <button class="acc-back" type="button" id="backToContact">back</button>
                <button class="acc-next" type="button" id="toPayment">continue</button>
              </div>

              <div class="acc-error" id="shippingError" aria-live="polite"></div>
            </div>
          </section>

          <!-- PAYMENT -->
          <section class="acc-section" data-section="payment">
            <button class="acc-header" type="button" aria-expanded="false">
              <span class="acc-title">PAYMENT</span>
              <span class="acc-status" id="paymentStatus">closed</span>
            </button>

            <div class="acc-body" hidden>
              <p class="pay-note">
                payment is handled on secure stripe checkout. you’ll be redirected to enter card details.
              </p>

              <div class="acc-actions">
                <button class="acc-back" type="button" id="backToShipping">back</button>
                <button class="acc-final" type="button" id="finalizePayment">finalize payment</button>
              </div>

              <div class="acc-error" id="paymentError" aria-live="polite"></div>
            </div>
          </section>
        </div>
      </section>
    </main>
  </div>

  <!-- CART DRAWER -->
  <div class="cart-drawer-overlay"></div>
  <aside id="cartPanel" class="cart-drawer" aria-label="Shopping bag">
    <div class="cart-drawer-header">
      <h2 class="cart-drawer-title">BAG</h2>
      <button class="cart-drawer-close" type="button" data-cart-close>CLOSE</button>
    </div>
    <div class="cart-drawer-body">
      <div id="cartItems" class="cart-drawer-items"></div>
    </div>
    <div class="cart-drawer-footer">
      <div class="cart-drawer-total" id="cartItemsCount">items: 0</div>
      <button class="cart-drawer-checkout" id="cartCheckoutBtn" type="button">CHECKOUT</button>
    </div>
  </aside>

  <script src="menubar.js?v=mb27" defer></script>
  <script src="cart.js?v=5" defer></script>
  <script src="checkout.js?v=1" defer></script>
</body>
</html>
