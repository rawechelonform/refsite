<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self';
                 script-src 'self' 'unsafe-inline';
                 style-src  'self' 'unsafe-inline' https://use.typekit.net;
                 img-src    'self' data: blob:;
                 font-src   'self' data: https://use.typekit.net;
                 connect-src 'self' https://script.google.com https://*.googleusercontent.com;">

  <title>REF</title>

  <!-- Fonts -->
  <link rel="preload" href="fonts/coral-pixels/coralpixels-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="stylesheet" href="https://use.typekit.net/lcf2pet.css">

  <!-- Page CSS -->
  <link rel="stylesheet" href="sadgirls.css" />
  <link rel="stylesheet" href="menubar.css?v=mb9">
  <link rel="stylesheet" href="artist.css?v=33">

  <!-- Safety: remove default margin so menubar sits flush -->
  <style>html,body{margin:0;padding:0}</style>
</head>

<!-- Make menubar transparent on this page -->
<body class="menu-transparent">
  <script>
    document.documentElement.classList.add('fonts-loading');
    Promise.all([document.fonts.load('1em "Coral Pixels"')])
      .then(() => document.documentElement.classList.remove('fonts-loading'));
  </script>

  <div class="page">
    <!-- shared header + reserved space -->
    <div data-menubar class="menubar-slot"></div>

    <div class="about-grid">
      <!-- LEFT: portrait -->
      <section class="about-blurb">
        <figure class="about-photo" id="aboutPhoto">
          <img src="assets/artist/artistphoto3.png" alt="artist portrait" decoding="async">
          <!-- Bottom-right glitch GIF button (kept visible & sized via JS) -->
          <div class="glitch-corner-wrap" id="glitchWrap">
            <a class="glitch-corner" href="glitchreport.html" aria-label="glitch report">
              <img class="gc-single"
                   src="assets/artist/glitchreportbutton.gif?v=3"
                   alt=""
                   decoding="async">
            </a>
          </div>
        </figure>
      </section>

      <!-- RIGHT: bio + IG + UTD -->
      <div class="right-col">
        <p class="bio">
          I'm a terminal user, a post-industrial artist, and an archivist of retro circuits. Daughter to a watchsmith, in favor of analog and low tech. This site is a memory dump of my paintings.
        </p>

        <p class="bio">
          IG:
          <a class="ext-link"
             href="https://www.instagram.com/rawechelonform"
             target="_blank"
             rel="noopener noreferrer">
            @rawechelonform
          </a>
        </p>

        <section class="utd" id="utdBox">
          <img src="assets/artist/artistavatar.png" alt="site avatar" class="avatar-overlay">

          <div class="utd-bar">
            <div class="utd-title" id="utdTitle">USELESS THOUGHT OF THE DAY</div>
            <button type="button" class="utd-unlock" id="utdUnlock">CREATOR UNLOCK</button>
          </div>

          <form id="utdForm" class="utd-form" hidden>
            <textarea id="utdText" class="utd-textarea" rows="8" maxlength="1000"
                      placeholder="type a thoughtâ€¦"></textarea>
            <div class="utd-actions">
              <button type="submit">post</button>
            </div>
          </form>

          <div id="utdFeed" class="utd-feed" aria-live="polite"></div>
        </section>
      </div>
    </div>
  </div>

  <!-- Custom crosshair cursor -->
  <div id="custom-cursor" aria-hidden="true">
    <span class="arm arm-a"></span>
    <span class="arm arm-b"></span>
    <span class="dot"></span>
  </div>

  <!-- Scripts (shared menubar first, then page-specific) -->
  <script src="menubar.js?v=mb23" defer></script>
  <script src="artist.js?v=22" defer></script>

  <!-- Centered fade-away toast for registration complete -->
  <script>
  (function () {
    const params = new URLSearchParams(location.search);
    if (params.get('registration') !== 'complete') return;

    const overlay = document.createElement('div');
    Object.assign(overlay.style, {
      position: 'fixed', inset: '0', display: 'grid', placeItems: 'center',
      zIndex: '9999', pointerEvents: 'none', background: 'transparent',
      opacity: '0', transition: 'opacity 400ms ease'
    });

    const msg = document.createElement('div');
    msg.textContent = 'registration complete.';
    const bio = document.querySelector('.bio');
    const cs = bio ? getComputedStyle(bio) : {};
    Object.assign(msg.style, {
      color: '#fff', background: 'transparent', border: 'none',
      fontFamily: cs.fontFamily || 'inherit', fontSize: cs.fontSize || '18px',
      fontStyle: 'italic', letterSpacing: cs.letterSpacing || '0.02em',
      transform: 'translateY(10px)', transition: 'transform 400ms ease',
    });

    overlay.appendChild(msg);
    document.body.appendChild(overlay);

    requestAnimationFrame(() => { overlay.style.opacity = '1'; msg.style.transform = 'translateY(0)'; });
    setTimeout(() => { overlay.style.opacity = '0'; msg.style.transform = 'translateY(10px)'; }, 1600);
    setTimeout(() => {
      overlay.remove();
      params.delete('registration');
      const qs = params.toString();
      const newUrl = location.pathname + (qs ? '?' + qs : '') + location.hash;
      history.replaceState(null, '', newUrl);
    }, 2100);
  })();
  </script>
</body>
</html>
