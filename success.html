<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>REF Â· Order received</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="stylesheet" href="bag.css?v=1">
  <link rel="stylesheet" href="menubar.css?v=mb27">
  <link rel="stylesheet" href="success.css?v=1">
</head>

<body class="menu-transparent">
  <div class="page">
    <div data-menubar class="menubar-slot"></div>

    <main class="checkout-shell" aria-label="Order confirmation">
      <section class="checkout-panel">
        <h1 class="checkout-title">order received</h1>
        <p class="checkout-empty">
          thank you for your order. check your email for your receipt and shipping details.
        </p>
      </section>
    </main>
  </div>

  <!-- 1) clear immediately -->
  <script>
    (function () {
      try {
        localStorage.removeItem("ref_cart");
        console.log("[success] cleared ref_cart early:", localStorage.getItem("ref_cart"));
      } catch (e) {
        console.log("[success] clear failed", e);
      }
    })();
  </script>

  <!-- 2) load scripts (include cart.js so badge/UI can update) -->
  <script src="menubar.js?v=mb27" defer></script>
  <script src="cart.js?v=6" defer></script>

  <!-- 3) clear again after scripts run + force UI refresh -->
  <script>
    window.addEventListener("load", function () {
      try {
        localStorage.removeItem("ref_cart");
        console.log("[success] cleared ref_cart after load:", localStorage.getItem("ref_cart"));

        if (window.refCart && typeof window.refCart.render === "function") {
          window.refCart.render();
        }
      } catch (e) {
        console.log("[success] post-load clear failed", e);
      }
    });
  </script>
</body>
</html>
