/* ===== Local font faces (same as sadgirls) ===== */
@font-face { font-family: 'Pixel Warden'; src: url('fonts/pixelwarden/PixelWarden.ttf') format('truetype'); font-display: block; }
@font-face { font-family: 'FS TI-92 ENO C'; src: url('fonts/fs-ti-92-eno-c/fs-ti-92-eno-c.ttf') format('truetype'); font-display: swap; }
@font-face { font-family: 'RetroByte'; src: url('fonts/retrobyte/RetroByte.ttf') format('truetype'); font-display: block; }

/* hide any old section title to remove underline entirely */
.section-title { display: none; border-bottom: none; }

/* ===== Base + tokens ===== */
:root {
  --maxw: 1200px;
  --bg: #000;
  --fg: #fff;
  --muted: #aaa;
  --border: #2a2a2a;
  --card: #0a0a0a;
  --gap: 16px;

  --hero-title-size: clamp(36px, 8vw, 96px);
  --hero-title-alpha: 0.75;

  /* Lightbox caption geometry (Option C) */
  --lb-gap: 18px;                       /* distance between caption and image */
  --lb-cap-max: min(90ch, 60vw);        /* wide on desktop, but still bounded */
}

.fonts-loading .section-title { visibility: hidden; }
html, body { height: 100%; }
body { margin: 0; background: var(--bg); color: var(--fg); font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; }

.page {
  padding: 24px 0 48px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 18px;
}

/* ===== HERO ===== */
.hero { position: relative; width: 100%; display: flex; justify-content: center; margin-bottom: 12px; }
.hero-img { width: 100%; max-width: var(--maxw); height: auto; display: block; object-fit: cover; }
.hero-title {
  position: absolute; inset: 0; display: grid; place-items: center;
  font-family: 'RetroByte', monospace; font-size: var(--hero-title-size); line-height: 1;
  color: rgba(255,255,255,var(--hero-title-alpha)); text-transform: uppercase; text-align: center;
  letter-spacing: .02em; text-shadow: 0 2px 6px rgba(0,0,0,.45); pointer-events: none;
}

/* ===== 3-column grid ===== */
.grid { width: 100%; display: flex; justify-content: center; }
.cols { width: 100%; max-width: var(--maxw); display: flex; gap: var(--gap); padding: 0 24px; }
.col  { flex: 1 1 0; display: flex; flex-direction: column; gap: var(--gap); }

/* cards */
.card {
  position: relative;
  background: var(--card);
  border: none;                /* remove thumbnail border */
  border-radius: 0;
  overflow: hidden;
  box-shadow: none;
}
.card img { display: block; width: 100%; height: auto; border-radius: 0; image-rendering: crisp-edges; cursor: zoom-in; }

/* hover overlay */
.overlay {
  position: absolute; inset: 0; background: rgba(0,200,0,0.35);
  opacity: 0; transition: opacity 120ms ease; display: flex; align-items: center; justify-content: center;
  pointer-events: none;
}
.overlay .label {
  color: #fff; font-size: 16px; font-weight: 400; text-shadow: 0 1px 2px rgba(0,0,0,.5); letter-spacing: 0.02em;
  font-family: "input-mono","Input Mono",ui-monospace,SFMono-Regular,Menlo,Consolas,"Liberation Mono",Monaco,"Courier New",monospace;
}
.card:hover .overlay, .card:focus-within .overlay { opacity: 1; }
.card:hover { background: #111; outline: none; }

/* ===== Lightbox ===== */
/* Center the frame itself with CSS grid so the image column is truly centered */
.lightbox {
  position: fixed; inset: 0; display: none; z-index: 9999;
  place-items: center;
}
.lightbox.open { display: grid; }

.lightbox .backdrop {
  position: absolute; inset: 0; background: rgba(0,0,0,0.82);
  opacity: 0; transition: opacity 180ms ease; cursor: zoom-out;
}

/* Frame is a container; image is centered; caption is anchored to the image */
.lightbox .frame {
  position: relative;
  max-width: 92vw; max-height: 92vh;
  background: transparent;
  border: none; border-radius: 0;
}

/* wrapper around the image to anchor caption */
.img-wrap {
  position: relative;
  display: grid;                 /* shrink-wrap to image */
  place-items: center;
  max-width: 92vw;               /* viewport-fit bounds */
  max-height: 92vh;
}
.img-wrap > img {
  display: block;
  /* JS sets precise width to match the grow animation */
  max-width: none; max-height: none;
  height: auto;
  z-index: 1;
}

/* caption LEFT of the image, bottom-aligned; does not affect centering */
.lb-caption {
  position: absolute;
  bottom: 0;
  right: calc(100% + var(--lb-gap));     /* place left of the image */
  max-width: var(--lb-cap-max);
  white-space: nowrap;                    /* no wrapping on desktop */
  overflow-wrap: normal; word-break: keep-all;
  color: #ddd; text-align: right; background: transparent;
  font-family: "ocr-a-std","OCR A Std","OCR A",monospace;
  font-size: clamp(8px, 0.9vw, 11px);
  line-height: 1.45; letter-spacing: 0.005em;
  text-shadow: 0 1px 2px rgba(0,0,0,.55);
  pointer-events: none; user-select: none;
  z-index: 2;
}

/* invisible edge click zones for prev/next */
.lightbox .edge {
  position: absolute; top: 0; height: 100%;
  width: 24vw; max-width: 240px;
  background: transparent; cursor: pointer; z-index: 3;
}
.lightbox .edge.left  { left: 0; }
.lightbox .edge.right { right: 0; }

/* ===== Responsive ===== */
@media (max-width: 1024px) { .cols { gap: 14px; } }

@media (max-width: 720px) {
  .cols { padding: 0 10px; gap: 12px; }
  .col { width: 50%; }
  .cols { flex-wrap: wrap; }
  #col3 { flex-basis: 100%; display: none; }
  .hero-title { font-size: clamp(28px, 12vw, 64px); }

  /* Option C: on phones, caption drops below and wraps naturally */
  .lb-caption {
    position: static;
    margin-top: 6px;
    right: auto; bottom: auto;
    text-align: left;
    max-width: none;
    white-space: normal;
  }
}

@media (max-width: 480px) {
  .cols { flex-direction: column; }
  #col2, #col3 { display: none; }
}
