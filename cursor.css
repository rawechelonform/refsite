/* Neutral dark bg so the white crosshair is always visible */
html, body {
  height: 100%;
  margin: 0;
  background: #111;
  color: #ddd;
  font: 14px/1.5 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
}

.ui {
  position: fixed; left: 0; right: 0; top: 0;
  padding: 14px 16px; text-align: center; color: #aab;
}

/* Crosshair visuals */
:root {
  --s: 34px;   /* total size */
  --t: 2px;    /* arm thickness */
  --g: 18px;   /* center gap */
  --d: 3px;    /* center dot */
}

#custom-cursor {
  position: fixed;
  left: 0; top: 0;
  width: var(--s); height: var(--s);
  transform: translate(-50%, -50%);
  pointer-events: none;
  z-index: 2147483647;
  color: #fff;
  /* Strong outline so it shows on any bg */
  filter:
    drop-shadow(0 0 1px rgba(0,0,0,.95))
    drop-shadow(0 0 2px rgba(0,0,0,.85))
    drop-shadow(0 0 3px rgba(0,0,0,.75));
  /* We keep it visible pre-lock too */
  display: block;
}

#custom-cursor .arm {
  position: absolute;
  left: 50%; top: 50%;
  width: var(--s); height: var(--t);
  transform-origin: 50% 50%;
  background:
    linear-gradient(90deg,
      currentColor 0 calc(50% - (var(--g)/2)),
      transparent calc(50% - (var(--g)/2)) calc(50% + (var(--g)/2)),
      currentColor calc(50% + (var(--g)/2)) 100%);
}
#custom-cursor .arm-a { transform: translate(-50%, -50%) rotate(45deg); }
#custom-cursor .arm-b { transform: translate(-50%, -50%) rotate(-45deg); }

#custom-cursor .dot {
  position: absolute;
  left: 50%; top: 50%;
  width: var(--d); height: var(--d);
  transform: translate(-50%, -50%);
  border-radius: 50%;
  background: currentColor;
}

/* Idle spin (random trigger in JS) */
@keyframes cursor-spin {
  from { transform: translate(-50%, -50%) rotate(0); }
  to   { transform: translate(-50%, -50%) rotate(360deg); }
}

/* Click = squeeze/implode */
#custom-cursor.implode .arm-a,
#custom-cursor.implode .arm-b {
  animation: arm-implode 220ms ease-out forwards;
}
@keyframes arm-implode {
  0%   { transform: translate(-50%, -50%) rotate(var(--deg,45deg)) scaleX(1); }
  60%  { transform: translate(-50%, -50%) rotate(var(--deg,45deg)) scaleX(.25); }
  100% { transform: translate(-50%, -50%) rotate(var(--deg,45deg)) scaleX(0); }
}
#custom-cursor.implode .arm-a { --deg: 45deg; }
#custom-cursor.implode .arm-b { --deg: -45deg; }

@media (prefers-reduced-motion: reduce) {
  #custom-cursor { animation: none !important; }
  #custom-cursor.implode .arm-a,
  #custom-cursor.implode .arm-b { animation: none !important; }
}
