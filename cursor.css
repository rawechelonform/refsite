/* Black page + base UI */
html,body{
  height:100%; margin:0;
  background:#000 !important; color:#ddd;
  font:14px/1.5 system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
}
body::before{ content:""; position:fixed; inset:0; background:#000; z-index:-1; }

.ui{ max-width:760px; margin:40px auto; padding:0 16px; }
h1{ color:#fff; margin:0 0 8px; font-size:22px; }
button{ background:#111; color:#ddd; border:1px solid #333; padding:8px 12px; border-radius:6px; }
button:hover{ background:#1a1a1a; }

/* Hide OS cursor ONLY while “inside” (JS toggles data-cursor="off") */
html[data-cursor="off"], html[data-cursor="off"] *{
  cursor:
    url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='1' height='1'/>") 0 0,
    none !important;
}
html[data-cursor="off"] input,
html[data-cursor="off"] textarea,
html[data-cursor="off"] [contenteditable]{ caret-color: transparent !important; }

/* Shield that owns cursor:none (Chrome ⇒ always on; others ⇒ during movement) */
#cursor-shield{
  position:fixed; inset:0; background:transparent;
  z-index:2147483646;  /* below crosshair, above page */
  cursor:none !important;
  display:none;
}

/* Crosshair visuals */
:root{ --s:34px; --t:2px; --g:18px; --d:3px; }
#custom-cursor{
  position:fixed; left:0; top:0; width:var(--s); height:var(--s);
  transform:translate(-50%,-50%); pointer-events:none; z-index:2147483647;
  color:#fff; mix-blend-mode:difference;
  filter: drop-shadow(0 0 .5px rgba(0,0,0,.6)) drop-shadow(0 0 1px rgba(0,0,0,.5));
  display:none; /* shown only while inside */
}
#custom-cursor .arm{
  position:absolute; left:50%; top:50%;
  width:var(--s); height:var(--t);
  transform-origin:50% 50%;
  transform:translate(-50%,-50%) rotate(45deg);
  background:linear-gradient(90deg,
    currentColor 0 calc(50% - (var(--g)/2)),
    transparent calc(50% - (var(--g)/2)) calc(50% + (var(--g)/2)),
    currentColor calc(50% + (var(--g)/2)) 100%);
}
#custom-cursor .arm.b{ transform:translate(-50%,-50%) rotate(-45deg); }
#custom-cursor .dot{
  position:absolute; left:50%; top:50%;
  width:var(--d); height:var(--d);
  transform:translate(-50%,-50%); border-radius:50%; background:currentColor;
}

/* Spin + click implode */
@keyframes spin{ from{transform:translate(-50%,-50%) rotate(0)} to{transform:translate(-50%,-50%) rotate(360deg)} }
#custom-cursor.implode .arm{ animation: imp 220ms ease-out forwards; }
#custom-cursor.implode .arm.b{ animation-name: impb; }
@keyframes imp{
  0%{transform:translate(-50%,-50%) rotate(45deg) scaleX(1)}
  60%{transform:translate(-50%,-50%) rotate(45deg) scaleX(.25)}
  100%{transform:translate(-50%,-50%) rotate(45deg) scaleX(0)}
}
@keyframes impb{
  0%{transform:translate(-50%,-50%) rotate(-45deg) scaleX(1)}
  60%{transform:translate(-50%,-50%) rotate(-45deg) scaleX(.25)}
  100%{transform:translate(-50%,-50%) rotate(-45deg) scaleX(0)}
}

@media (prefers-reduced-motion: reduce){
  #custom-cursor{ animation:none !important; }
  #custom-cursor.implode .arm,
  #custom-cursor.implode .arm.b{ animation:none !important; }
}
